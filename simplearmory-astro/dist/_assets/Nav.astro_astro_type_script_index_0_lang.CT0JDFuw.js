let r={region:void 0,realm:void 0,character:void 0,avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",page:void 0,category:void 0,subcat:void 0},c={theme:"light",itemSkin:"classic",showHidden:"hidden",showHiddenFeat:"hidden",showUnobtainedOnly:"false",showUpcoming:"false"};const s=[],d=[];function w(){if(typeof window>"u")return;const e=localStorage.getItem("region"),t=localStorage.getItem("realm"),n=localStorage.getItem("character");e&&t&&n&&(r.region=e,r.realm=t,r.character=n),c.theme=localStorage.getItem("darkTheme")==="true"?"dark":"light",c.itemSkin=localStorage.getItem("itemSkin")||"classic",c.showHidden=localStorage.getItem("showHidden")||"hidden",c.showHiddenFeat=localStorage.getItem("showHiddenFeat")||"hidden",c.showUnobtainedOnly=localStorage.getItem("showUnobtainedOnly")||"false",c.showUpcoming=localStorage.getItem("showUpcoming")||"false",u(),window.addEventListener("hashchange",u,!1)}function u(){if(typeof window>"u")return;const e=window.document.location.hash;if(!e||e==="#/")return;const[,t,n,o,a,i,l]=decodeURIComponent(e).slice(1).split("/");r.region=t,r.realm=n,r.character=o,r.page=a,r.category=i,r.subcat=l,y(),t&&n&&o&&(localStorage.setItem("region",t),localStorage.setItem("realm",n),localStorage.setItem("character",o))}function v(e){c={...c,...e},e.theme&&localStorage.setItem("darkTheme",e.theme==="dark"),e.itemSkin&&localStorage.setItem("itemSkin",e.itemSkin),e.showHidden&&localStorage.setItem("showHidden",e.showHidden),e.showHiddenFeat&&localStorage.setItem("showHiddenFeat",e.showHiddenFeat),e.showUnobtainedOnly&&localStorage.setItem("showUnobtainedOnly",e.showUnobtainedOnly),e.showUpcoming&&localStorage.setItem("showUpcoming",e.showUpcoming),L()}function p(e){return s.push(e),()=>{const t=s.indexOf(e);t!==-1&&s.splice(t,1)}}function S(e){return d.push(e),()=>{const t=d.indexOf(e);t!==-1&&d.splice(t,1)}}function y(){s.forEach(e=>e(r))}function L(){d.forEach(e=>e(c))}function I(){return r}function h(){return c}function q(e,t){return e?t?`${e} | ${t} | Simple Armory`:`${e} | Simple Armory`:t?`${t} | Simple Armory`:"Simple Armory"}function E(e,t){return Math.round(e/t*100)}function H(e,t){return`${e} / ${t} (${E(e,t)}%)`}let m="wowhead.com";function A(){return typeof window<"u"&&localStorage.getItem("wowhead_url")||m}function b(e){m=e,typeof window<"u"&&localStorage.setItem("wowhead_url",e)}document.addEventListener("DOMContentLoaded",()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")});function U(e,t,n,o=""){let a="#/";return e&&(a+=`${e}/`,t&&(a+=`${t}/`,n&&(a+=`${n}/`,o&&(a+=`${o}`)))),a}function T(e="",t="",n="",o=""){if(typeof window>"u")return;let a="#/";t&&(a+=`${t}/`,n&&(a+=`${n}/`,o&&(a+=`${o}/`,e&&(a+=`${e}`)))),window.document.location.hash=a}function k(e,t,n){return!e||!t||!n?"":`https://worldofwarcraft.com/character/${e}/${t}/${n.toLowerCase()}`}document.addEventListener("DOMContentLoaded",()=>{w();const e=I(),t=h();g(e),f(t),O(),p(g),S(f)});function g(e){const t=e.region&&e.region!==""&&e.region!=="error"&&e.realm&&e.realm!==""&&e.character&&e.character!=="",n=document.getElementById("nav-menu"),o=document.getElementById("nav-toggle");if(t){n.classList.remove("hidden"),o.style.display="";const a=document.getElementById("nav-avatar");a&&(a.src=e.avatar||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=");const i=document.getElementById("nav-character-info");i&&(i.textContent=`${e.character} @ ${e.realm}`);const l=document.getElementById("nav-armory-link");l&&(l.href=k(e.region,e.realm,e.character)),$(e),C(e)}else n.classList.add("collapse"),o.style.display="none"}function $(e){document.querySelectorAll(".navbar-nav li").forEach(t=>{t.classList.remove("active")}),!e.page||e.page===""?document.querySelector(".nav-overview")?.classList.add("active"):e.page==="achievements"?(document.querySelector(".nav-achievements")?.classList.add("active"),document.querySelector(`.nav-achievements-${e.category}`)?.classList.add("active")):e.page==="collectable"?(document.querySelector(".nav-collectable")?.classList.add("active"),document.querySelector(`.nav-collectable-${e.category}`)?.classList.add("active")):e.page==="calendar"?document.querySelector(".nav-calendar")?.classList.add("active"):e.page==="reputation"?document.querySelector(".nav-reputation")?.classList.add("active"):e.page==="settings"&&document.querySelector(".nav-settings")?.classList.add("active")}function C(e){document.querySelectorAll("[data-navlink]").forEach(t=>{const n=t.getAttribute("data-navlink");t.href=U(e.region,e.realm,e.character,n)})}function f(e){const t=document.getElementById("nav-theme-toggle");t&&(t.textContent=`Use ${e.theme==="light"?"Dark":"Light"} Theme`);const n=A();document.querySelectorAll(".locale-item").forEach(o=>{o.classList.remove("active"),o.dataset.locale===n&&o.classList.add("active")})}function O(){document.getElementById("nav-toggle")?.addEventListener("click",()=>{document.getElementById("nav-menu").classList.toggle("collapse")}),document.getElementById("nav-theme-toggle")?.addEventListener("click",n=>{n.preventDefault();const o=h();v({theme:o.theme==="light"?"dark":"light"})}),document.querySelectorAll(".locale-item a").forEach(n=>{n.addEventListener("click",o=>{o.preventDefault();const a=o.target.dataset.locale||o.target.parentElement.dataset.locale;a&&a!==A()&&(b(a),window.location.reload())})}),document.querySelectorAll(".dropdown-toggle").forEach(n=>{n.addEventListener("click",o=>{o.preventDefault(),o.stopPropagation();const a=n.parentElement,i=a.classList.contains("open");document.querySelectorAll(".dropdown").forEach(l=>{l.classList.remove("open")}),i||a.classList.add("open")})}),document.addEventListener("click",n=>{n.target.classList.contains("signin-label")||n.target.classList.contains("signin-name")||n.target.id==="localeSubmenu"||n.target.classList.contains("dropdown-menu")&&n.target.getAttribute("aria-labelledby")==="profileDrop"||document.querySelectorAll(".dropdown").forEach(o=>{o.classList.remove("open")})}),document.addEventListener("keydown",n=>{n.key==="Escape"&&document.querySelectorAll(".dropdown").forEach(o=>{o.classList.remove("open")})})}export{q as a,H as b,U as c,h as d,A as e,I as g,w as i,T as n,E as p,p as s,v as u};
