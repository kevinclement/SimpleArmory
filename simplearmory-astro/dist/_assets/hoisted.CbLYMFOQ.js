import{g as u,d as a,a as g,e as w,u as i}from"./Nav.astro_astro_type_script_index_0_lang.CT0JDFuw.js";document.addEventListener("DOMContentLoaded",async()=>{try{window.ga&&window.ga("send","pageview","Settings");const e=u(),n=a();if(!e||!e.region||!e.realm||!e.character){m("Missing character information");return}document.title=g(e.character,"Settings"),k(e),f(n),y()}catch(e){console.error("Error loading settings:",e),m(e.message||"Failed to load settings")}});function k(e){const n=document.getElementById("user-info");n&&(n.innerHTML=`
        ${e.character} @ ${e.realm}
        <span class="text-uppercase">(${e.region})</span>
      `)}function f(e){const n=document.getElementById("useDarkMode");n&&(n.checked=e.theme==="dark");const s=document.getElementById("useClassicSkin");s&&(s.checked=e.itemSkin==="classic");const o=document.getElementById("showHidden");o&&(o.checked=e.showHidden==="shown");const l=document.getElementById("showFeats");l&&(l.checked=e.showHiddenFeat==="shown");const h=document.getElementById("showUnobtainedOnly");h&&(h.checked=e.showUnobtainedOnly==="true");const r=document.getElementById("showUpcoming");r&&(r.checked=e.showUpcoming==="true");const c=document.getElementById("locale-select");c&&(c.value=w()),d(e)}function y(){const e=document.getElementById("useDarkMode");e&&e.addEventListener("change",function(c){const t=this.checked?"dark":"light";i({theme:t}),localStorage.setItem("darkTheme",this.checked),d(a()),E()});const n=document.getElementById("useClassicSkin");n&&n.addEventListener("change",function(c){const t=this.checked?"classic":"new";i({itemSkin:t}),localStorage.setItem("itemSkin",t),d(a())});const s=document.getElementById("showHidden");s&&s.addEventListener("change",function(c){const t=this.checked?"shown":"hidden";i({showHidden:t}),localStorage.setItem("showHiddenUpdated",Date.now()),localStorage.setItem("showHidden",t),d(a())});const o=document.getElementById("showFeats");o&&o.addEventListener("change",function(c){const t=this.checked?"shown":"hidden";i({showHiddenFeat:t}),localStorage.setItem("showHiddenUpdated",Date.now()),localStorage.setItem("showHiddenFeat",t),d(a())});const l=document.getElementById("showUnobtainedOnly");l&&l.addEventListener("change",function(c){const t=this.checked?"true":"false";i({showUnobtainedOnly:t}),localStorage.setItem("showHiddenUpdated",Date.now()),localStorage.setItem("showUnobtainedOnly",t),d(a())});const h=document.getElementById("showUpcoming");h&&h.addEventListener("change",function(c){const t=this.checked?"true":"false";i({showUpcoming:t}),localStorage.setItem("showHiddenUpdated",Date.now()),localStorage.setItem("showUpcoming",t),d(a())});const r=document.getElementById("locale-select");r&&r.addEventListener("change",function(c){const t=w();this.value!==t&&(localStorage.setItem("wowhead_url",this.value),window.location.reload())})}function d(e){const n=document.getElementById("example-container");if(!n)return;e.itemSkin==="classic"?n.classList.add("classic-skin"):n.classList.remove("classic-skin");const s=n.querySelectorAll(".item");s.length>0&&(e.showUnobtainedOnly==="true"?s.forEach(o=>{o.classList.contains("collected")?o.style.display="none":o.style.display="block"}):s.forEach(o=>{o.style.display="block"}))}function E(){a().theme==="dark"?document.body.classList.add("dark-theme"):document.body.classList.remove("dark-theme")}function m(e){console.error(e)}document.addEventListener("router:update",async()=>{const e=u();window.location.hash.startsWith("#/settings")&&e.region&&e.realm&&e.character&&(document.title=g(e.character,"Settings"),k(e),f(a()))});
